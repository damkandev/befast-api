<head>
  <title>Login - BeFast</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
  <link rel="stylesheet" href="style.css">
</head>

<body data-new-gr-c-s-check-loaded="8.906.0" data-gr-ext-installed="">
  <form action="" class="container">
    <h1>Inicio de Sesión</h1>
    <label for="email">Correo</label>
    <input type="email" id="email">
    <label for="password">Contraseña</label>
    <input type="password" id="password">
    <button onclick="realizarInicioSesion()">Iniciar Sesión</button>
  </form>


  <script>
    async function realizarInicioSesion() {
      event.preventDefault()
      const correo = document.getElementById('email').value;
      const contrasena = document.getElementById('password').value;

      const response = await fetch('http://localhost:8000/api/login', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ correo, contrasena })
      });

      const data = await response.json();
      if (response.ok) {
        const token = data.token;
        sessionStorage.setItem('token', token)
        window.location.href = 'home.html'
      } else {
        // Error en el inicio de sesión. Mensaje de error en data.error.
        alert('Error en el inicio de sesión: ' + data.error);
      }
    }
  </script>


</body>